<!DOCTYPE html>
<html lang="zh_CN" xmlns:th="http://www.thymeleaf.org"
	xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<meta charset="utf-8">

<link rel="stylesheet" href="/css/plugins/summernote/summernote.css"/>
<link rel="stylesheet" href="/css/form/cascader.css"/>
<link rel="stylesheet" href="/css/form/form.css"/>
<link rel="stylesheet" href="/css/form/switch.css"/>
<link rel="stylesheet" href="/css/form/bootstrap-select.css"/>
<link rel="stylesheet" href="/css/font-awesome.min.css">
<head th:include="include::headerContent"></head>

<style>
	.page-ul .field-li .field-label{min-width:150px;max-width:150px;}
	.num-title{font-weight:bold;line-height:30px;margin-right:5px;}
	.content-box{display:flex;}
</style>

<body class="layer-body" th:classappend="${session.theme}">
	
	<div class="layer-box isView">
		<form action="" id="operate">
			<ul class="page-ul page-ul2">
				<li class="field-li content-whole r" field="host" htype="TEXT">
					<div class="field-div field-label"><span class="requireSign"></span><span class="title" th:text="邮箱服务器"></span></div>
					<div class="field-div field-content" th:text="${mail.host}" ></div>
				</li>
				<li class="field-li content-whole r odd" field="port" htype="SELECT">
					<div class="field-div field-label"><span class="requireSign"></span><span class="title" th:text="端口"></span></div>
					<div class="field-div field-content" th:utext="${mail.port}"></div>
				</li>
				<li class="field-li content-whole r" field="sender" htype="TEXT">
					<div class="field-div field-label"><span class="requireSign"></span><span class="title" th:text="发件人地址"></span></div>
					<div class="field-div field-content" th:text="${mail.sender}"></div>
				</li>
				<li class="field-li content-whole r odd" field="userName" htype="TEXT">
					<div class="field-div field-label"><span class="requireSign"></span><span class="title" th:text="用户名"></span></div>
					<div class="field-div field-content" th:text="${mail.userName}"></div>
				</li>
<!-- 				<li class="field-li content-whole r" field="password" htype="SELECT"> -->
<!-- 					<div class="field-div field-label"><span class="requireSign"></span><span class="title" th:text="密码"></span></div> -->
<!-- 					<div class="field-div field-content" th:text="${mail.password}"></div> -->
<!-- 				</li> -->
				<li class="field-li content-whole r" field="footer" htype="SELECT">
					<div class="field-div field-label"><span class="requireSign"></span><span class="title" th:text="邮件页脚"></span></div>
					<div class="field-div field-content" th:utext="${mail.footer}"></div>
				</li>
				
				<li class="field-li content-whole textarea" htype="BTN">
					<div class="layui-layer-btn layui-submit-btn whole_w pr12 mt50 center hide">
						<input type="button" id="submit" class="layui-layer-btn0 btns cp mr0" shiro:hasPermission="ADV:EDIT" onclick="editMail();" th:value="#{common.edit}"/>
						<input type="button" id="submit" class="layui-layer-btn0 btns cp mr0 WARNING-msg" onclick="sendMail();" th:value="发送测试邮件"/>
					</div>
				</li>
				
			</ul>
			
		</form>
	
	</div>
	
	
	<div th:include="include::footerContent"></div>
	<script th:inline="javascript"> var ctx = [[@{/}]]; parentName = [[${param.parentname}]]; objectType = [[${param.objectType}]];</script>
	
	<script src="/js/plugins/summernote/summernote.js"></script>
	<script src="/js/plugins/datapicker/laydate.js"></script>
	<script src="/js/form/cascader.js"></script>
	<script src="/js/form/switch.js"></script>
	<script src="/js/plugins/autosize/textSum.min.js"></script>
	<script src="/js/form/form.js"></script>
	<script src="/js/form/jquery-html5Validate.js"></script>
	<script src="/js/form/bootstrap-select.js"></script>
	<script src="/js/form/paigusu.min.js"></script>
	<script src="/js/field/field.js"></script>
	
	<script>
		$(function() {
			initFormControl('MAIL');
			hideLoading();
			
			$('.layui-layer-btn').removeClass('hide');
		});
		
		function editMail() {
			window.location.href = '/advanceSet/advanceSetEdit';
		}
		
		function sendMail() {
			top.layer.open({
				type : 2,
				title : '发送测试邮件',
				maxmin : false,
				shadeClose : true, // 点击遮罩关闭层
				move:false,
				area : ['830px', '450px'],
				content : "/advanceSet/setTestEmail",
			});
		}
	</script>
	
</body>
</html>
